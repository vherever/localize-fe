<div [formGroup]="languagesForm">
  <h4>Which project languages can this user translate?</h4>
  <div>
    <label for="s_check_all" class="lz_check_all">
      <input type="checkbox" id="s_check_all"
             #checkAll
             [formControlName]="'checkAll'"
             (change)="onCheckAllCheck($event.target['checked'])">
      Check all
    </label>
  </div>
  <div class="lz_available_locale_wrapper">
    <ng-container *ngFor="let lang of languagesForm.get('availableTranslationLocales')['controls']; let i = index">
      <label class="lz_available_locale"
             formArrayName="availableTranslationLocales">
        <input type="checkbox"
               [checked]="userProjectLocales[i].checked"
               [formControlName]="i"
               (change)="onCheckboxChange(userProjectLocales[i], languagesForm.value.availableTranslationLocales[i])"
        />
        <span class="lz_locale_flag" *ngIf="userProjectLocales[i].flag">{{ userProjectLocales[i].flag }}</span>
        <span class="lz_locale_language" *ngIf="userProjectLocales[i].name1">{{ userProjectLocales[i].name1 }}</span>
        <span class="lz_locale_country" *ngIf="userProjectLocales[i].name2" title="{{ userProjectLocales[i].name2 }}">{{ userProjectLocales[i].name2 }}</span>
        <span class="lz_locale_language" *ngIf="!userProjectLocales[i].flag">
            <span class="lz_locale_code">{{ userProjectLocales[i].code }}</span>
          {{ userProjectLocales[i].name }}
          </span>
      </label>
    </ng-container>
  </div>
</div>
