<form [formGroup]="projectAddForm" (submit)="onProjectAddFormSave()">
  <div>
    <mat-form-field>
      <input matInput placeholder="Project name" formControlName="title" autocomplete="off">
      <mat-error *ngIf="projectAddForm.controls['title'].hasError('required')">
        Project name is required.
      </mat-error>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field>
      <input matInput placeholder="Project description" formControlName="description" autocomplete="off">
    </mat-form-field>
  </div>

  <div>
    <mat-form-field>
      <input matInput placeholder="Default locale" formControlName="defaultLocale" autocomplete="off">
      <mat-error *ngIf="projectAddForm.controls['defaultLocale'].hasError('required')">
        defaultLocale is required.
      </mat-error>
      <mat-hint>The language you are translating from.</mat-hint>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field>
      <input matInput placeholder="translationsLocales" formControlName="translationsLocales" autocomplete="off">
      <mat-error *ngIf="projectAddForm.controls['translationsLocales'].hasError('required')">
        translationsLocales is required.
      </mat-error>
      <mat-hint>The languages you are translating to.</mat-hint>
    </mat-form-field>
  </div>

  <div>
    <!--<label for="localesData">Select locale</label>-->
    <ng-select formControlName="selectedLocale"
               [items]="localesDataTransformed"
               [multiple]="false"
               [virtualScroll]="true"
               [bindLabel]="'filter'"
               [placeholder]="'Start typing a language or country...'"
               [dropdownPosition]="'top'"
               [loadingText]="'Loading...'"
               [loading]="selectDataLoading"
               [isOpen]="dropdownIsOpen"
               (search)="onLanguageSearch($event)"
               (blur)="onCloseSearchBox()"
               (focus)="onFocusSearchBar($event)"
               (change)="onChangeSearchBar($event)"
               (clear)="onClearSearchBar()"
               labelForId="localesData">

      <ng-template ng-option-tmp let-item="item">
        <span class="flag">{{ item.emoji }}</span>
        <span class="text">{{item.value}}</span>
        <span *ngIf="item.type === 'lang'" class="code">{{ item.code }}</span>
      </ng-template>

      <ng-template ng-loadingspinner-tmp>
        <div class="lds-ellipsis" *ngIf="selectDataLoading">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
      </ng-template>

      <ng-template ng-label-tmp let-item="item">
        <span *ngIf="item.type === 'lang';" class="code">{{ item.code }}</span>
        <span *ngIf="item.type !== 'lang'" class="flag">{{ item.emoji }}</span>
        <span class="value-selected">{{ item.value }}</span>
      </ng-template>
    </ng-select>
  </div>

  <button [disabled]="!projectAddForm.valid">Save</button>
</form>
