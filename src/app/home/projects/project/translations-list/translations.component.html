<button (click)="onAddTranslationClick()">Add Translation</button>
<h5 class="lz_h_bordered">Translations</h5>
<div class="lz_list">
  <a href="javascript:;"
     *ngFor="let translation of translations; let i = index"
     class="lz_list_item lz_list_item_link lz_translation"
     (click)="onTranslationEditClick($event, translation, i);">
      <span fxLayout fxLayoutAlign="space-between start">
        <div class="lz_project_name_description"
             [ngClass]="{'lz_opened': currentClickedElementId === i}">
          <span class="lz_p_title" *ngIf="translation.translations[activeLocale]; else noTranslation">{{ translation.translations[activeLocale] }}</span>

          <ng-template #noTranslation><span class="lz_p_needs_translation">*requires translation*</span></ng-template>

          <span class="lz_p_current_locale">[{{ activeLocaleCountryName }}, {{ activeLocale.toUpperCase() }}]</span>
          <span class="lz_p_latest_update" fxLayout>
            <span>{{ translation.latestUpdatedAtFormatted }}</span>

            <ng-container *ngIf="translation.updatedBy && userId">
              <span *ngIf="translation.updatedBy.id === userId; else updatedByOther">
                &nbsp;by
                <b>you</b>
              </span>
            </ng-container>

            <ng-template #updatedByOther>
              <span>&nbsp;by
                <b>{{ translation.updatedBy.name ? translation.updatedBy.name : translation.updatedBy.email }}</b>
              </span>
            </ng-template>
          </span>
        </div>

        <div class="lz_list_item_controls" fxLayout>
          <a href="javascript:;" class="lz_settings">
            <svg class="lz_settings_svg">
              <use xlink:href="#settings"></use>
            </svg>
          </a>
          <a href="javascript:;" class="lz_remove">
            <svg class="lz_remove_svg">
              <use xlink:href="#recycle_bin"></use>
            </svg>
          </a>
        </div>
      </span>
    <ng-container #translationEditor></ng-container>
  </a>
</div>

<app-sprite [spriteKey]="'controls'"></app-sprite>
